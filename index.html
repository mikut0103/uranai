<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>âœ¨ èª•ç”Ÿæ—¥å ã„ âœ¨</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;1,400&family=Cormorant+Garamond:ital,wght@0,300;0,400;1,300&family=Noto+Serif+JP:wght@300;400;700&display=swap" rel="stylesheet">
<style>
  :root {
    --rose: #c9728a;
    --blush: #f5d0da;
    --gold: #c9a96e;
    --cream: #fdf8f2;
    --deep: #3d1f2f;
    --lavender: #d4c5e2;
    --sage: #b5c9bc;
  }

  * { margin: 0; padding: 0; box-sizing: border-box; }

  body {
    background: var(--cream);
    font-family: 'Cormorant Garamond', 'Noto Serif JP', serif;
    min-height: 100vh;
    overflow-x: hidden;
    color: var(--deep);
  }

  /* Decorative background */
  body::before {
    content: '';
    position: fixed;
    inset: 0;
    background: 
      radial-gradient(ellipse at 20% 20%, rgba(201,114,138,0.12) 0%, transparent 50%),
      radial-gradient(ellipse at 80% 80%, rgba(212,197,226,0.2) 0%, transparent 50%),
      radial-gradient(ellipse at 60% 10%, rgba(201,169,110,0.1) 0%, transparent 40%);
    pointer-events: none;
    z-index: 0;
  }

  .container {
    max-width: 860px;
    margin: 0 auto;
    padding: 40px 20px;
    position: relative;
    z-index: 1;
  }

  /* Header */
  header {
    text-align: center;
    margin-bottom: 50px;
    animation: fadeDown 1s ease forwards;
  }

  .header-ornament {
    font-size: 1.2rem;
    color: var(--gold);
    letter-spacing: 0.5em;
    margin-bottom: 12px;
    display: block;
  }

  h1 {
    font-family: 'Playfair Display', serif;
    font-size: clamp(2.4rem, 6vw, 3.8rem);
    font-weight: 400;
    color: var(--deep);
    line-height: 1.15;
    margin-bottom: 10px;
  }

  h1 em {
    font-style: italic;
    color: var(--rose);
  }

  .subtitle {
    font-size: 0.95rem;
    color: var(--gold);
    letter-spacing: 0.3em;
    font-weight: 300;
  }

  .divider {
    display: flex;
    align-items: center;
    gap: 16px;
    margin: 20px auto;
    width: fit-content;
  }
  .divider-line { width: 60px; height: 1px; background: var(--gold); opacity: 0.5; }
  .divider-dot { font-size: 0.6rem; color: var(--gold); }

  /* Input card */
  .input-card {
    background: white;
    border-radius: 24px;
    padding: 44px 48px;
    box-shadow: 0 8px 40px rgba(61,31,47,0.08), 0 2px 8px rgba(201,114,138,0.1);
    margin-bottom: 40px;
    animation: fadeUp 1s ease 0.2s forwards;
    opacity: 0;
    border: 1px solid rgba(201,169,110,0.15);
  }

  .input-card label {
    display: block;
    font-size: 0.82rem;
    letter-spacing: 0.25em;
    color: var(--rose);
    margin-bottom: 12px;
    font-weight: 400;
    text-transform: uppercase;
  }

  .date-input-group {
    display: flex;
    gap: 12px;
    margin-bottom: 28px;
  }

  .date-input-group select,
  .date-input-group input {
    flex: 1;
    padding: 14px 18px;
    border: 1.5px solid rgba(201,169,110,0.3);
    border-radius: 12px;
    background: var(--cream);
    font-family: 'Cormorant Garamond', serif;
    font-size: 1.1rem;
    color: var(--deep);
    outline: none;
    transition: border-color 0.3s, box-shadow 0.3s;
    cursor: pointer;
    -webkit-appearance: none;
  }

  .date-input-group select:focus,
  .date-input-group input:focus {
    border-color: var(--rose);
    box-shadow: 0 0 0 3px rgba(201,114,138,0.1);
  }

  .btn {
    width: 100%;
    padding: 18px;
    background: linear-gradient(135deg, var(--rose) 0%, #a85470 100%);
    color: white;
    border: none;
    border-radius: 14px;
    font-family: 'Playfair Display', serif;
    font-size: 1.15rem;
    font-style: italic;
    letter-spacing: 0.1em;
    cursor: pointer;
    transition: transform 0.2s, box-shadow 0.3s;
    box-shadow: 0 4px 20px rgba(201,114,138,0.35);
  }

  .btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 28px rgba(201,114,138,0.45);
  }

  .btn:active { transform: translateY(0); }

  /* Results */
  #results {
    display: none;
    animation: fadeUp 0.8s ease forwards;
  }

  #results.show { display: block; }

  .result-header {
    text-align: center;
    margin-bottom: 36px;
  }

  .result-header h2 {
    font-family: 'Playfair Display', serif;
    font-size: 1.8rem;
    font-weight: 400;
    color: var(--deep);
    margin-bottom: 6px;
  }

  .result-header .birthday-display {
    font-size: 1rem;
    color: var(--gold);
    letter-spacing: 0.3em;
  }

  /* Fortune cards grid */
  .fortune-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(360px, 1fr));
    gap: 20px;
    margin-bottom: 30px;
  }

  .fortune-card {
    background: white;
    border-radius: 20px;
    padding: 28px 30px;
    box-shadow: 0 4px 20px rgba(61,31,47,0.06);
    border: 1px solid rgba(201,169,110,0.12);
    position: relative;
    overflow: hidden;
    transition: transform 0.3s, box-shadow 0.3s;
  }

  .fortune-card:hover {
    transform: translateY(-3px);
    box-shadow: 0 8px 30px rgba(61,31,47,0.1);
  }

  .fortune-card::before {
    content: '';
    position: absolute;
    top: 0; left: 0; right: 0;
    height: 3px;
    background: var(--card-color, var(--rose));
  }

  .card-icon {
    font-size: 2rem;
    margin-bottom: 10px;
    display: block;
  }

  .card-region {
    font-size: 0.72rem;
    letter-spacing: 0.3em;
    text-transform: uppercase;
    color: var(--card-color, var(--rose));
    margin-bottom: 4px;
    font-weight: 400;
  }

  .card-system {
    font-family: 'Playfair Display', serif;
    font-size: 1.2rem;
    font-weight: 400;
    color: var(--deep);
    margin-bottom: 12px;
  }

  .card-result {
    font-size: 1.4rem;
    font-weight: 700;
    color: var(--deep);
    margin-bottom: 8px;
    line-height: 1.3;
  }

  .card-desc {
    font-size: 0.95rem;
    color: #6b4a5c;
    line-height: 1.7;
    font-weight: 300;
  }

  .card-lucky {
    margin-top: 12px;
    padding-top: 12px;
    border-top: 1px dashed rgba(201,169,110,0.3);
    font-size: 0.85rem;
    color: var(--gold);
  }

  /* Overall summary */
  .summary-card {
    background: linear-gradient(135deg, #3d1f2f 0%, #5c2d47 100%);
    border-radius: 24px;
    padding: 40px 44px;
    color: white;
    text-align: center;
    margin-top: 30px;
    position: relative;
    overflow: hidden;
  }

  .summary-card::before {
    content: 'âœ¦ âœ¦ âœ¦';
    position: absolute;
    top: 20px; left: 50%;
    transform: translateX(-50%);
    font-size: 0.6rem;
    letter-spacing: 1em;
    color: var(--gold);
    opacity: 0.6;
  }

  .summary-card h3 {
    font-family: 'Playfair Display', serif;
    font-size: 1.5rem;
    font-weight: 400;
    font-style: italic;
    color: var(--blush);
    margin-bottom: 16px;
  }

  .summary-card p {
    font-size: 1.05rem;
    line-height: 1.9;
    color: rgba(255,255,255,0.85);
    max-width: 600px;
    margin: 0 auto;
  }

  .fortune-stars {
    font-size: 1.5rem;
    color: var(--gold);
    margin: 16px 0;
    letter-spacing: 0.3em;
  }

  /* Animations */
  @keyframes fadeDown {
    from { opacity: 0; transform: translateY(-20px); }
    to { opacity: 1; transform: translateY(0); }
  }

  @keyframes fadeUp {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
  }

  @keyframes sparkle {
    0%, 100% { opacity: 0.3; transform: scale(0.8); }
    50% { opacity: 1; transform: scale(1.2); }
  }

  .sparkle {
    display: inline-block;
    animation: sparkle 2s ease-in-out infinite;
  }

  /* Floating particles */
  .particle {
    position: fixed;
    pointer-events: none;
    font-size: 1rem;
    animation: floatUp 6s ease-in-out infinite;
    z-index: 0;
    opacity: 0;
  }

  @keyframes floatUp {
    0% { transform: translateY(100vh) rotate(0deg); opacity: 0; }
    10% { opacity: 0.4; }
    90% { opacity: 0.2; }
    100% { transform: translateY(-10vh) rotate(360deg); opacity: 0; }
  }

  @media (max-width: 600px) {
    .input-card { padding: 28px 22px; }
    .date-input-group { flex-direction: column; }
    .fortune-grid { grid-template-columns: 1fr; }
    .summary-card { padding: 28px 22px; }
  }
</style>
</head>
<body>

<!-- Floating particles -->
<div class="particle" style="left:5%;animation-delay:0s;animation-duration:8s;">âœ¦</div>
<div class="particle" style="left:15%;animation-delay:1.5s;animation-duration:6s;">ğŸŒ¸</div>
<div class="particle" style="left:30%;animation-delay:3s;animation-duration:9s;">âœ¨</div>
<div class="particle" style="left:50%;animation-delay:0.8s;animation-duration:7s;">ğŸŒ™</div>
<div class="particle" style="left:70%;animation-delay:2.2s;animation-duration:8.5s;">â­</div>
<div class="particle" style="left:85%;animation-delay:4s;animation-duration:6.5s;">âœ¦</div>
<div class="particle" style="left:92%;animation-delay:1s;animation-duration:10s;">ğŸŒº</div>

<div class="container">
  <header>
    <span class="header-ornament">âœ¦ âœ¦ âœ¦</span>
    <h1><em>èª•ç”Ÿæ—¥å ã„</em></h1>
    <p class="subtitle">Birthday Fortune Telling</p>
    <div class="divider">
      <div class="divider-line"></div>
      <div class="divider-dot">âœ¦</div>
      <div class="divider-line"></div>
    </div>
    <p style="font-size:0.95rem;color:#8b6070;line-height:1.8;max-width:500px;margin:0 auto;">
      ä¸–ç•Œä¸­ã®å è¡“ãŒã‚ãªãŸã®é‹å‘½ã‚’ç´è§£ã<br>
      <span style="font-size:0.85rem;opacity:0.7;">è¥¿æ´‹ãƒ»æ±æ´‹ãƒ»ã‚¤ãƒ³ãƒ‰ãƒ»ã‚±ãƒ«ãƒˆãƒ»æ•°ç§˜è¡“â€¦</span>
    </p>
  </header>

  <div class="input-card">
    <label>âœ¦ &nbsp;ã‚ãªãŸã®ç”Ÿå¹´æœˆæ—¥</label>
    <div class="date-input-group">
      <select id="year">
        <option value="">å¹´</option>
      </select>
      <select id="month">
        <option value="">æœˆ</option>
      </select>
      <select id="day">
        <option value="">æ—¥</option>
      </select>
    </div>
    <button class="btn" onclick="calculate()">âœ¨ &nbsp;å ã„ã‚’å§‹ã‚ã‚‹&nbsp; âœ¨</button>
  </div>

  <div id="results">
    <div class="result-header">
      <span class="header-ornament">âœ¦ ã‚ãªãŸã®é‹å‘½ã®æ˜Ÿ âœ¦</span>
      <h2>å ã„çµæœ</h2>
      <div class="birthday-display" id="birthday-display"></div>
    </div>
    <div class="fortune-grid" id="fortune-grid"></div>
    <div class="summary-card" id="summary-card"></div>
  </div>
</div>

<script>
// Populate selects
const yearSel = document.getElementById('year');
const monthSel = document.getElementById('month');
const daySel = document.getElementById('day');

for(let y = new Date().getFullYear(); y >= 1920; y--) {
  yearSel.innerHTML += `<option value="${y}">${y}å¹´</option>`;
}
for(let m = 1; m <= 12; m++) {
  monthSel.innerHTML += `<option value="${m}">${m}æœˆ</option>`;
}
for(let d = 1; d <= 31; d++) {
  daySel.innerHTML += `<option value="${d}">${d}æ—¥</option>`;
}

// ==================== DIVINATION SYSTEMS ====================

// 1. è¥¿æ´‹å æ˜Ÿè¡“ (Western Astrology)
function getWesternSign(month, day) {
  const signs = [
    { name: 'â™‘ å±±ç¾Šåº§', en: 'Capricorn', start: [12,22], end: [1,19], element: 'åœŸ', planet: 'åœŸæ˜Ÿ',
      traits: 'è²¬ä»»æ„ŸãŒå¼·ãã€å¿è€åŠ›ãŒã‚ã‚Šã¾ã™ã€‚é‡å¿ƒçš„ã§å®Ÿç”¨çš„ãªæ€§æ ¼ã€‚äººç”Ÿã‚’é€šã˜ã¦æˆåŠŸã‚’ç©ã¿é‡ã­ã¦ã„ãåŠ›ãŒã‚ã‚Šã¾ã™ã€‚', lucky: 'ãƒ©ãƒƒã‚­ãƒ¼ã‚«ãƒ©ãƒ¼: èŒ¶ãƒ»é»’ã€€ãƒ©ãƒƒã‚­ãƒ¼ãƒŠãƒ³ãƒãƒ¼: 8' },
    { name: 'â™’ æ°´ç“¶åº§', en: 'Aquarius', start: [1,20], end: [2,18], element: 'é¢¨', planet: 'å¤©ç‹æ˜Ÿ',
      traits: 'ç‹¬å‰µçš„ã§äººé“ä¸»ç¾©çš„ã€‚é©æ–°çš„ãªã‚¢ã‚¤ãƒ‡ã‚¢ã‚’æŒã¤è‡ªç”±ãªç²¾ç¥ã®æŒã¡ä¸»ã€‚é›†å›£ã®ä¸­ã§éš›ç«‹ã¤å€‹æ€§ã‚’ç™ºæ®ã—ã¾ã™ã€‚', lucky: 'ãƒ©ãƒƒã‚­ãƒ¼ã‚«ãƒ©ãƒ¼: æ°´è‰²ãƒ»éŠ€ã€€ãƒ©ãƒƒã‚­ãƒ¼ãƒŠãƒ³ãƒãƒ¼: 11' },
    { name: 'â™“ é­šåº§', en: 'Pisces', start: [2,19], end: [3,20], element: 'æ°´', planet: 'æµ·ç‹æ˜Ÿ',
      traits: 'æ„Ÿå—æ€§ãŒè±Šã‹ã§å¤¢æƒ³çš„ã€‚æ·±ã„å…±æ„ŸåŠ›ã¨èŠ¸è¡“çš„æ‰èƒ½ã‚’æŒã¡ã¾ã™ã€‚ç›´æ„Ÿã«å„ªã‚Œã€ã‚¹ãƒ”ãƒªãƒãƒ¥ã‚¢ãƒ«ãªç¹‹ãŒã‚Šã‚’æ„Ÿã˜ã‚„ã™ã„ã€‚', lucky: 'ãƒ©ãƒƒã‚­ãƒ¼ã‚«ãƒ©ãƒ¼: æµ·ç·‘ãƒ»ç´«ã€€ãƒ©ãƒƒã‚­ãƒ¼ãƒŠãƒ³ãƒãƒ¼: 7' },
    { name: 'â™ˆ ç‰¡ç¾Šåº§', en: 'Aries', start: [3,21], end: [4,19], element: 'ç«', planet: 'ç«æ˜Ÿ',
      traits: 'æƒ…ç†±çš„ã§ã‚¨ãƒãƒ«ã‚®ãƒƒã‚·ãƒ¥ãªå…ˆé§†è€…ã€‚æŒ‘æˆ¦ã‚’æã‚Œãšã€ç‡å…ˆã—ã¦è¡Œå‹•ã—ã¾ã™ã€‚ç”Ÿã¾ã‚ŒãªãŒã‚‰ã®ãƒªãƒ¼ãƒ€ãƒ¼ã‚·ãƒƒãƒ—ãŒã‚ã‚Šã¾ã™ã€‚', lucky: 'ãƒ©ãƒƒã‚­ãƒ¼ã‚«ãƒ©ãƒ¼: èµ¤ãƒ»ã‚ªãƒ¬ãƒ³ã‚¸ã€€ãƒ©ãƒƒã‚­ãƒ¼ãƒŠãƒ³ãƒãƒ¼: 1' },
    { name: 'â™‰ ç‰¡ç‰›åº§', en: 'Taurus', start: [4,20], end: [5,20], element: 'åœŸ', planet: 'é‡‘æ˜Ÿ',
      traits: 'å®‰å®šã‚’æ„›ã—ã€å¿ å®Ÿã§ä¿¡é ¼ã§ãã‚‹å­˜åœ¨ã€‚ç¾çš„æ„Ÿè¦šã¨æ„Ÿè¦šçš„ãªå–œã³ã«æµã¾ã‚Œã¦ã„ã¾ã™ã€‚ç€å®Ÿã«è±Šã‹ã•ã‚’ç¯‰ãæ‰èƒ½ãŒã‚ã‚Šã¾ã™ã€‚', lucky: 'ãƒ©ãƒƒã‚­ãƒ¼ã‚«ãƒ©ãƒ¼: ç·‘ãƒ»ãƒ”ãƒ³ã‚¯ã€€ãƒ©ãƒƒã‚­ãƒ¼ãƒŠãƒ³ãƒãƒ¼: 6' },
    { name: 'â™Š åŒå­åº§', en: 'Gemini', start: [5,21], end: [6,20], element: 'é¢¨', planet: 'æ°´æ˜Ÿ',
      traits: 'çŸ¥çš„å¥½å¥‡å¿ƒãŒæ—ºç››ã§æ©ŸçŸ¥ã«å¯Œã‚€ã€‚ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³èƒ½åŠ›ãŒé«˜ãã€æ§˜ã€…ãªåˆ†é‡ã«èˆˆå‘³ã‚’æŒã¤å¤šæ‰ãªæ€§æ ¼ã€‚', lucky: 'ãƒ©ãƒƒã‚­ãƒ¼ã‚«ãƒ©ãƒ¼: é»„ãƒ»æ°´è‰²ã€€ãƒ©ãƒƒã‚­ãƒ¼ãƒŠãƒ³ãƒãƒ¼: 5' },
    { name: 'â™‹ èŸ¹åº§', en: 'Cancer', start: [6,21], end: [7,22], element: 'æ°´', planet: 'æœˆ',
      traits: 'æ„›æƒ…æ·±ãç›´æ„Ÿçš„ã€‚å®¶æ—ã‚„æ„›ã™ã‚‹äººã¸ã®çŒ®èº«çš„ãªæ„›ã‚’æŒã¡ã¾ã™ã€‚æ„Ÿæƒ…ã®è±Šã‹ã•ã¨å…±æ„ŸåŠ›ãŒé­…åŠ›ã§ã™ã€‚', lucky: 'ãƒ©ãƒƒã‚­ãƒ¼ã‚«ãƒ©ãƒ¼: ç™½ãƒ»éŠ€ã€€ãƒ©ãƒƒã‚­ãƒ¼ãƒŠãƒ³ãƒãƒ¼: 2' },
    { name: 'â™Œ ç…å­åº§', en: 'Leo', start: [7,23], end: [8,22], element: 'ç«', planet: 'å¤ªé™½',
      traits: 'è‡ªä¿¡ã«ã‚ãµã‚Œã€ã‚«ãƒªã‚¹ãƒçš„ãªå­˜åœ¨æ„Ÿã‚’æ”¾ã¡ã¾ã™ã€‚å‰µé€ æ€§ã¨å¯›å¤§ã•ã‚’æŒã¤ç”Ÿã¾ã‚ŒãªãŒã‚‰ã®ç‹è€…ã€‚', lucky: 'ãƒ©ãƒƒã‚­ãƒ¼ã‚«ãƒ©ãƒ¼: é‡‘ãƒ»ã‚ªãƒ¬ãƒ³ã‚¸ã€€ãƒ©ãƒƒã‚­ãƒ¼ãƒŠãƒ³ãƒãƒ¼: 1' },
    { name: 'â™ ä¹™å¥³åº§', en: 'Virgo', start: [8,23], end: [9,22], element: 'åœŸ', planet: 'æ°´æ˜Ÿ',
      traits: 'åˆ†æåŠ›ãŒé«˜ãå®Œç’§ä¸»ç¾©ã€‚ç´°éƒ¨ã¸ã®é…æ…®ã¨å®Ÿç”¨çš„ãªã‚¢ãƒ—ãƒ­ãƒ¼ãƒã§ã€å•é¡Œè§£æ±ºã«å„ªã‚ŒãŸæ‰èƒ½ã‚’ç™ºæ®ã—ã¾ã™ã€‚', lucky: 'ãƒ©ãƒƒã‚­ãƒ¼ã‚«ãƒ©ãƒ¼: ç´ºé’ãƒ»èŒ¶ã€€ãƒ©ãƒƒã‚­ãƒ¼ãƒŠãƒ³ãƒãƒ¼: 5' },
    { name: 'â™ å¤©ç§¤åº§', en: 'Libra', start: [9,23], end: [10,22], element: 'é¢¨', planet: 'é‡‘æ˜Ÿ',
      traits: 'èª¿å’Œã¨ç¾ã‚’æ„›ã™ã‚‹å¤–äº¤å®˜ã€‚ãƒãƒ©ãƒ³ã‚¹æ„Ÿè¦šã«å„ªã‚Œã€å…¬å¹³ã•ã¨å„ªé›…ã•ã§å‘¨å›²ã‚’é­…äº†ã—ã¾ã™ã€‚', lucky: 'ãƒ©ãƒƒã‚­ãƒ¼ã‚«ãƒ©ãƒ¼: ãƒ”ãƒ³ã‚¯ãƒ»æ°´è‰²ã€€ãƒ©ãƒƒã‚­ãƒ¼ãƒŠãƒ³ãƒãƒ¼: 6' },
    { name: 'â™ è åº§', en: 'Scorpio', start: [10,23], end: [11,21], element: 'æ°´', planet: 'å†¥ç‹æ˜Ÿ',
      traits: 'å¼·çƒˆãªæƒ…ç†±ã¨æ·±ã„æ´å¯ŸåŠ›ã‚’æŒã¤ç¥ç§˜å®¶ã€‚å¤‰å®¹ã¨å†ç”Ÿã®åŠ›ã‚’æŒã¡ã€ç‰©äº‹ã®æœ¬è³ªã‚’è¦‹æŠœãã¾ã™ã€‚', lucky: 'ãƒ©ãƒƒã‚­ãƒ¼ã‚«ãƒ©ãƒ¼: æ·±ç´…ãƒ»é»’ã€€ãƒ©ãƒƒã‚­ãƒ¼ãƒŠãƒ³ãƒãƒ¼: 8' },
    { name: 'â™ å°„æ‰‹åº§', en: 'Sagittarius', start: [11,22], end: [12,21], element: 'ç«', planet: 'æœ¨æ˜Ÿ',
      traits: 'è‡ªç”±ã‚’æ„›ã™ã‚‹å“²å­¦è€…ã€‚æ¥½è¦³ä¸»ç¾©ã¨å†’é™ºå¿ƒã‚’æŒã¡ã€çœŸå®Ÿã¨çŸ¥æµã‚’æ¢æ±‚ã™ã‚‹æ—…äººã§ã™ã€‚', lucky: 'ãƒ©ãƒƒã‚­ãƒ¼ã‚«ãƒ©ãƒ¼: ç´«ãƒ»ã‚¿ãƒ¼ã‚³ã‚¤ã‚ºã€€ãƒ©ãƒƒã‚­ãƒ¼ãƒŠãƒ³ãƒãƒ¼: 3' },
  ];
  
  const m = parseInt(month), d = parseInt(day);
  for(const s of signs) {
    const [sm, sd] = s.start, [em, ed] = s.end;
    if((m === sm && d >= sd) || (m === em && d <= ed)) return s;
  }
  return signs[0];
}

// 2. ä¸­å›½ã®åäºŒæ”¯ (Chinese Zodiac)
function getChineseZodiac(year) {
  const animals = [
    { name: 'ğŸ€ å­ï¼ˆã­ãšã¿ï¼‰', traits: 'çŸ¥æµã¨æ©Ÿè»¢ã«å¯Œã‚€ã€‚ãƒãƒ£ãƒ³ã‚¹ã‚’æ´ã‚€ç›´æ„Ÿã¨ç©æ¥µæ€§ã‚’æŒã¤ã€‚ç¤¾äº¤çš„ã§é­…åŠ›çš„ã§ã™ã€‚', lucky: 'ãƒ©ãƒƒã‚­ãƒ¼ã‚«ãƒ©ãƒ¼: èµ¤ãƒ»é’ã€€ãƒ©ãƒƒã‚­ãƒ¼ãƒŠãƒ³ãƒãƒ¼: 2, 3' },
    { name: 'ğŸ‚ ä¸‘ï¼ˆã†ã—ï¼‰', traits: 'èª å®Ÿã§å‹¤å‹‰ã€‚å¿è€å¼·ãä¿¡é ¼ã§ãã‚‹æ€§æ ¼ã€‚æ±ºã—ã¦è«¦ã‚ãªã„å¼·ã„æ„å¿—ã¨æŒä¹…åŠ›ãŒã‚ã‚Šã¾ã™ã€‚', lucky: 'ãƒ©ãƒƒã‚­ãƒ¼ã‚«ãƒ©ãƒ¼: ç™½ãƒ»é»„ã€€ãƒ©ãƒƒã‚­ãƒ¼ãƒŠãƒ³ãƒãƒ¼: 1, 4' },
    { name: 'ğŸ¯ å¯…ï¼ˆã¨ã‚‰ï¼‰', traits: 'å‹‡æ•¢ã§ã‚«ãƒªã‚¹ãƒçš„ãªãƒªãƒ¼ãƒ€ãƒ¼ã€‚æƒ…ç†±ã¨ç«¶äº‰å¿ƒã‚’æŒã¡ã€å›°é›£ã«ç«‹ã¡å‘ã‹ã†å‹‡æ°—ãŒã‚ã‚Šã¾ã™ã€‚', lucky: 'ãƒ©ãƒƒã‚­ãƒ¼ã‚«ãƒ©ãƒ¼: é’ãƒ»ç°ã€€ãƒ©ãƒƒã‚­ãƒ¼ãƒŠãƒ³ãƒãƒ¼: 1, 7' },
    { name: 'ğŸ‡ å¯ï¼ˆã†ã•ãï¼‰', traits: 'å„ªé›…ã§æ¸©å’Œã€‚èŠ¸è¡“çš„ã‚»ãƒ³ã‚¹ã¨é‹­ã„æ´å¯ŸåŠ›ã‚’æŒã¡ã¾ã™ã€‚å¹³å’Œã¨ç¾ã‚’æ„›ã™ã‚‹ç¹Šç´°ãªé­‚ã€‚', lucky: 'ãƒ©ãƒƒã‚­ãƒ¼ã‚«ãƒ©ãƒ¼: ãƒ”ãƒ³ã‚¯ãƒ»ç´«ã€€ãƒ©ãƒƒã‚­ãƒ¼ãƒŠãƒ³ãƒãƒ¼: 3, 9' },
    { name: 'ğŸ‰ è¾°ï¼ˆãŸã¤ï¼‰', traits: 'åŠ›å¼·ãé­…åŠ›çš„ãªã‚«ãƒªã‚¹ãƒã€‚é©æ–°çš„ãªæ€æƒ³ã¨è¡Œå‹•åŠ›ã§ã€å¤§ããªå¤¢ã‚’ç¾å®Ÿã«ã™ã‚‹åŠ›ã‚’æŒã¡ã¾ã™ã€‚', lucky: 'ãƒ©ãƒƒã‚­ãƒ¼ã‚«ãƒ©ãƒ¼: é‡‘ãƒ»éŠ€ã€€ãƒ©ãƒƒã‚­ãƒ¼ãƒŠãƒ³ãƒãƒ¼: 1, 7' },
    { name: 'ğŸ å·³ï¼ˆã¸ã³ï¼‰', traits: 'çŸ¥æµæ·±ãç¥ç§˜çš„ã€‚ç›´æ„Ÿã¨æ´—ç·´ã•ã‚ŒãŸç¾æ„è­˜ã‚’æŒã¤æ€æ…®æ·±ã„å­˜åœ¨ã€‚æ·±ã„æ€è€ƒåŠ›ãŒæ­¦å™¨ã§ã™ã€‚', lucky: 'ãƒ©ãƒƒã‚­ãƒ¼ã‚«ãƒ©ãƒ¼: é»’ãƒ»èµ¤ã€€ãƒ©ãƒƒã‚­ãƒ¼ãƒŠãƒ³ãƒãƒ¼: 2, 8' },
    { name: 'ğŸ åˆï¼ˆã†ã¾ï¼‰', traits: 'è‡ªç”±å¥”æ”¾ã§æƒ…ç†±çš„ã€‚ã‚¨ãƒãƒ«ã‚®ãƒƒã‚·ãƒ¥ã§è¡Œå‹•åŠ›ãŒã‚ã‚Šã€äººã€…ã‚’æƒ¹ãã¤ã‘ã‚‹é­…åŠ›ã‚’æ”¾ã¡ã¾ã™ã€‚', lucky: 'ãƒ©ãƒƒã‚­ãƒ¼ã‚«ãƒ©ãƒ¼: ç·‘ãƒ»é»„ã€€ãƒ©ãƒƒã‚­ãƒ¼ãƒŠãƒ³ãƒãƒ¼: 2, 3' },
    { name: 'ğŸ‘ æœªï¼ˆã²ã¤ã˜ï¼‰', traits: 'å„ªã—ãæ€ã„ã‚„ã‚ŠãŒã‚ã‚‹èŠ¸è¡“å®¶æ°—è³ªã€‚ç©ã‚„ã‹ãªå¤–è¦‹ã®å†…ã«å¼·ã„èŠ¯ã‚’æŒã¤ç¹Šç´°ãªæ„Ÿæ€§ã€‚', lucky: 'ãƒ©ãƒƒã‚­ãƒ¼ã‚«ãƒ©ãƒ¼: ç·‘ãƒ»èµ¤ã€€ãƒ©ãƒƒã‚­ãƒ¼ãƒŠãƒ³ãƒãƒ¼: 2, 7' },
    { name: 'ğŸ’ ç”³ï¼ˆã•ã‚‹ï¼‰', traits: 'è³¢ããƒ¦ãƒ¼ãƒ¢ã‚¢ã«æº¢ã‚Œã‚‹å•é¡Œè§£æ±ºã®å¤©æ‰ã€‚å‰µé€ åŠ›ã¨é©å¿œåŠ›ã§ã€ã©ã‚“ãªçŠ¶æ³ã‚‚æ¥½ã—ãä¹—ã‚Šè¶Šãˆã¾ã™ã€‚', lucky: 'ãƒ©ãƒƒã‚­ãƒ¼ã‚«ãƒ©ãƒ¼: ç™½ãƒ»é‡‘ã€€ãƒ©ãƒƒã‚­ãƒ¼ãƒŠãƒ³ãƒãƒ¼: 4, 9' },
    { name: 'ğŸ“ é…‰ï¼ˆã¨ã‚Šï¼‰', traits: 'å‡ å¸³é¢ã§è¦³å¯ŸåŠ›ãŒé‹­ã„å®Œç’§ä¸»ç¾©è€…ã€‚è‡ªä¿¡ã«ã‚ãµã‚ŒãŸå¤–è¦‹ã¨å‡ å¸³é¢ãªæ€§æ ¼ã§ä¿¡é ¼ã‚’é›†ã‚ã¾ã™ã€‚', lucky: 'ãƒ©ãƒƒã‚­ãƒ¼ã‚«ãƒ©ãƒ¼: é‡‘ãƒ»èŒ¶ã€€ãƒ©ãƒƒã‚­ãƒ¼ãƒŠãƒ³ãƒãƒ¼: 5, 7' },
    { name: 'ğŸ• æˆŒï¼ˆã„ã¬ï¼‰', traits: 'å¿ å®Ÿã§èª å®Ÿãªå®ˆè­·è€…ã€‚æ­£ç¾©æ„ŸãŒå¼·ãã€æ„›ã™ã‚‹äººã®ãŸã‚ã«å°½ãã™çŒ®èº«çš„ãªæ€§æ ¼ã§ã™ã€‚', lucky: 'ãƒ©ãƒƒã‚­ãƒ¼ã‚«ãƒ©ãƒ¼: èµ¤ãƒ»ç·‘ã€€ãƒ©ãƒƒã‚­ãƒ¼ãƒŠãƒ³ãƒãƒ¼: 3, 4' },
    { name: 'ğŸ· äº¥ï¼ˆã„ã®ã—ã—ï¼‰', traits: 'èª å®Ÿã§å‹‡æ°—ã‚ã‚‹å‹¤å‹‰å®¶ã€‚ç´”ç²‹ãªå¿ƒã¨å¯›å¤§ã•ã‚’æŒã¡ã€ä¸€åº¦æ±ºã‚ãŸã“ã¨ã¯å¿…ãšã‚„ã‚Šé‚ã’ã¾ã™ã€‚', lucky: 'ãƒ©ãƒƒã‚­ãƒ¼ã‚«ãƒ©ãƒ¼: é»„ãƒ»ç°ã€€ãƒ©ãƒƒã‚­ãƒ¼ãƒŠãƒ³ãƒãƒ¼: 2, 6' },
  ];
  return animals[(parseInt(year) - 4) % 12];
}

// 3. æ•°ç§˜è¡“ (Numerology - Life Path)
function getNumerology(year, month, day) {
  const reduce = n => {
    while(n > 9 && n !== 11 && n !== 22 && n !== 33) {
      n = String(n).split('').reduce((a,b) => a + parseInt(b), 0);
    }
    return n;
  };
  const sum = String(year).split('').reduce((a,b) => a+parseInt(b), 0)
            + parseInt(month) + parseInt(day);
  const num = reduce(sum);
  
  const meanings = {
    1: { title: 'ãƒ©ã‚¤ãƒ•ãƒ‘ã‚¹ 1 â€” å…ˆé§†è€…', traits: 'ç”Ÿã¾ã‚ŒãªãŒã‚‰ã®ãƒªãƒ¼ãƒ€ãƒ¼ã€‚ç‹¬ç«‹å¿ƒã¨å‰µé€ æ€§ã§é“ã‚’åˆ‡ã‚Šæ‹“ãã¾ã™ã€‚å€‹æ€§ã¨æ„å¿—åŠ›ã§æ–°ã—ã„ä¸–ç•Œã‚’ä½œã‚‹åŠ›ã‚’æŒã¡ã¾ã™ã€‚', lucky: 'ãƒ©ãƒƒã‚­ãƒ¼ãƒ‡ã‚¤: æ—¥æ›œæ—¥ã€€ãƒ©ãƒƒã‚­ãƒ¼ã‚¹ãƒˆãƒ¼ãƒ³: ãƒ«ãƒ“ãƒ¼' },
    2: { title: 'ãƒ©ã‚¤ãƒ•ãƒ‘ã‚¹ 2 â€” å”èª¿è€…', traits: 'ç›´æ„Ÿã¨æ„Ÿå—æ€§ã«å„ªã‚ŒãŸå¹³å’Œã®ä½¿è€…ã€‚å”èª¿æ€§ã¨æ„›æƒ…ã§äººã€…ã‚’ç¹‹ãæ©‹æ¸¡ã—å½¹ã€‚ç´°ã‚„ã‹ãªæ°—é…ã‚ŠãŒé­…åŠ›ã€‚', lucky: 'ãƒ©ãƒƒã‚­ãƒ¼ãƒ‡ã‚¤: æœˆæ›œæ—¥ã€€ãƒ©ãƒƒã‚­ãƒ¼ã‚¹ãƒˆãƒ¼ãƒ³: ãƒ ãƒ¼ãƒ³ã‚¹ãƒˆãƒ¼ãƒ³' },
    3: { title: 'ãƒ©ã‚¤ãƒ•ãƒ‘ã‚¹ 3 â€” è¡¨ç¾è€…', traits: 'å‰µé€ åŠ›ã¨è¡¨ç¾åŠ›ã«æº¢ã‚ŒãŸèŠ¸è¡“å®¶ã€‚ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³èƒ½åŠ›ã¨æ¥½è¦³ä¸»ç¾©ã§å‘¨å›²ã‚’æ˜ã‚‹ãç…§ã‚‰ã—ã¾ã™ã€‚', lucky: 'ãƒ©ãƒƒã‚­ãƒ¼ãƒ‡ã‚¤: æœ¨æ›œæ—¥ã€€ãƒ©ãƒƒã‚­ãƒ¼ã‚¹ãƒˆãƒ¼ãƒ³: ãƒˆãƒ‘ãƒ¼ã‚º' },
    4: { title: 'ãƒ©ã‚¤ãƒ•ãƒ‘ã‚¹ 4 â€” å»ºç¯‰å®¶', traits: 'å …å®Ÿã§å®Ÿç”¨çš„ãªåŸºç›¤ã®æ§‹ç¯‰è€…ã€‚è¦å¾‹ã¨åŠªåŠ›ã§å®‰å®šã—ãŸä¸–ç•Œã‚’ä½œã‚Šä¸Šã’ã¾ã™ã€‚ä¿¡é ¼ã¨çµ„ç¹”åŠ›ãŒå¼·ã¿ã§ã™ã€‚', lucky: 'ãƒ©ãƒƒã‚­ãƒ¼ãƒ‡ã‚¤: åœŸæ›œæ—¥ã€€ãƒ©ãƒƒã‚­ãƒ¼ã‚¹ãƒˆãƒ¼ãƒ³: ã‚¨ãƒ¡ãƒ©ãƒ«ãƒ‰' },
    5: { title: 'ãƒ©ã‚¤ãƒ•ãƒ‘ã‚¹ 5 â€” å†’é™ºå®¶', traits: 'è‡ªç”±ã¨å¤‰åŒ–ã‚’æ„›ã™ã‚‹å†’é™ºè€…ã€‚å¤šæ‰ã§æŸ”è»Ÿãªé©å¿œåŠ›ã‚’æŒã¡ã€æ§˜ã€…ãªçµŒé¨“ã‹ã‚‰äººç”Ÿã‚’è±Šã‹ã«ã—ã¾ã™ã€‚', lucky: 'ãƒ©ãƒƒã‚­ãƒ¼ãƒ‡ã‚¤: æ°´æ›œæ—¥ã€€ãƒ©ãƒƒã‚­ãƒ¼ã‚¹ãƒˆãƒ¼ãƒ³: ã‚¢ã‚¯ã‚¢ãƒãƒªãƒ³' },
    6: { title: 'ãƒ©ã‚¤ãƒ•ãƒ‘ã‚¹ 6 â€” é¤Šè‚²è€…', traits: 'æ„›ã¨å¥‰ä»•ã®ç²¾ç¥ã‚’æŒã¤ç™’ã—æ‰‹ã€‚è²¬ä»»æ„Ÿã¨æ€ã„ã‚„ã‚Šã§å®¶æ—ã‚„ä»²é–“ã‚’å®ˆã‚Šã¾ã™ã€‚ç¾ã¨èª¿å’Œã‚’æ„›ã™ã‚‹é­‚ã€‚', lucky: 'ãƒ©ãƒƒã‚­ãƒ¼ãƒ‡ã‚¤: é‡‘æ›œæ—¥ã€€ãƒ©ãƒƒã‚­ãƒ¼ã‚¹ãƒˆãƒ¼ãƒ³: ãƒ­ãƒ¼ã‚ºã‚¯ã‚©ãƒ¼ãƒ„' },
    7: { title: 'ãƒ©ã‚¤ãƒ•ãƒ‘ã‚¹ 7 â€” æ¢æ±‚è€…', traits: 'çŸ¥è­˜ã¨çœŸå®Ÿã‚’è¿½ã„æ±‚ã‚ã‚‹å“²å­¦è€…ã€‚åˆ†æåŠ›ã¨ç›´æ„Ÿã‚’æŒã¡ã€æ·±ã„æ´å¯Ÿã§ç‰©äº‹ã®æœ¬è³ªã‚’è¦‹æ¥µã‚ã¾ã™ã€‚', lucky: 'ãƒ©ãƒƒã‚­ãƒ¼ãƒ‡ã‚¤: æœˆæ›œæ—¥ã€€ãƒ©ãƒƒã‚­ãƒ¼ã‚¹ãƒˆãƒ¼ãƒ³: ã‚¢ãƒ¡ã‚¸ã‚¹ãƒˆ' },
    8: { title: 'ãƒ©ã‚¤ãƒ•ãƒ‘ã‚¹ 8 â€” é”æˆè€…', traits: 'åŠ›ã¨è±Šã‹ã•ã‚’å¼•ãå¯„ã›ã‚‹ãƒ“ã‚¸ãƒ§ãƒŠãƒªãƒ¼ã€‚å®Ÿè¡ŒåŠ›ã¨é‡å¿ƒã§ç‰©è³ªçš„ãƒ»ç²¾ç¥çš„æˆåŠŸã‚’æ‰‹ã«å…¥ã‚Œã¾ã™ã€‚', lucky: 'ãƒ©ãƒƒã‚­ãƒ¼ãƒ‡ã‚¤: åœŸæ›œæ—¥ã€€ãƒ©ãƒƒã‚­ãƒ¼ã‚¹ãƒˆãƒ¼ãƒ³: ãƒ–ãƒ©ãƒƒã‚¯ã‚ªãƒ‹ã‚­ã‚¹' },
    9: { title: 'ãƒ©ã‚¤ãƒ•ãƒ‘ã‚¹ 9 â€” äººé“ä¸»ç¾©è€…', traits: 'æ„›ã¨çŸ¥æµã‚’ä¸–ç•Œã«åˆ†ã‹ã¡åˆã†æ…ˆæ‚²ã®äººã€‚èŠ¸è¡“æ€§ã¨æ™®éçš„ãªæ„›ã§äººã€…ã®å¿ƒã‚’å‹•ã‹ã—ã¾ã™ã€‚', lucky: 'ãƒ©ãƒƒã‚­ãƒ¼ãƒ‡ã‚¤: ç«æ›œæ—¥ã€€ãƒ©ãƒƒã‚­ãƒ¼ã‚¹ãƒˆãƒ¼ãƒ³: ã‚¬ãƒ¼ãƒãƒƒãƒˆ' },
    11: { title: 'ãƒã‚¹ã‚¿ãƒ¼ãƒŠãƒ³ãƒãƒ¼ 11 â€” å•“ç¤ºè€…', traits: 'é«˜ã„ç›´æ„Ÿã¨éœŠçš„ãªæ´å¯ŸåŠ›ã‚’æŒã¤å•“ç™ºè€…ã€‚ã‚¤ãƒ³ã‚¹ãƒ”ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã§ä¸–ç•Œã‚’ç…§ã‚‰ã—ã€äººã€…ã‚’å°ãã¾ã™ã€‚', lucky: 'ãƒ©ãƒƒã‚­ãƒ¼ãƒ‡ã‚¤: æœˆæ›œæ—¥ã€€ãƒ©ãƒƒã‚­ãƒ¼ã‚¹ãƒˆãƒ¼ãƒ³: ãƒ‘ãƒ¼ãƒ«' },
    22: { title: 'ãƒã‚¹ã‚¿ãƒ¼ãƒŠãƒ³ãƒãƒ¼ 22 â€” å¤§å»ºç¯‰å®¶', traits: 'å¤¢ã‚’ç¾å®Ÿã«å¤‰ãˆã‚‹åŠ›ã‚’æŒã¤ç©¶æ¥µã®ãƒ“ãƒ«ãƒ€ãƒ¼ã€‚ã‚¹ã‚±ãƒ¼ãƒ«ã®å¤§ããªãƒ“ã‚¸ãƒ§ãƒ³ã‚’å®Ÿç¾ã™ã‚‹æ‰èƒ½ãŒã‚ã‚Šã¾ã™ã€‚', lucky: 'ãƒ©ãƒƒã‚­ãƒ¼ãƒ‡ã‚¤: åœŸæ›œæ—¥ã€€ãƒ©ãƒƒã‚­ãƒ¼ã‚¹ãƒˆãƒ¼ãƒ³: ã‚µãƒ•ã‚¡ã‚¤ã‚¢' },
    33: { title: 'ãƒã‚¹ã‚¿ãƒ¼ãƒŠãƒ³ãƒãƒ¼ 33 â€” ãƒã‚¹ã‚¿ãƒ¼ãƒ†ã‚£ãƒ¼ãƒãƒ£ãƒ¼', traits: 'æ„›ã¨ç™’ã—ã®æœ€é«˜è¡¨ç¾ã€‚ä¸–ç•Œã«å¥‰ä»•ã—ã€äººã€…ã®ç²¾ç¥çš„æˆé•·ã‚’åŠ©ã‘ã‚‹ä½¿å‘½ã‚’æŒã¡ã¾ã™ã€‚', lucky: 'ãƒ©ãƒƒã‚­ãƒ¼ãƒ‡ã‚¤: é‡‘æ›œæ—¥ã€€ãƒ©ãƒƒã‚­ãƒ¼ã‚¹ãƒˆãƒ¼ãƒ³: ã‚¨ãƒ¡ãƒ©ãƒ«ãƒ‰' },
  };
  return { number: num, ...meanings[num] };
}

// 4. ã‚¤ãƒ³ãƒ‰å æ˜Ÿè¡“ - ãƒŠã‚¯ã‚·ãƒ£ãƒˆãƒ© (Vedic Nakshatra by birth date approximation)
function getVedicNakshatra(year, month, day) {
  const nakshatras = [
    { name: 'ã‚¢ã‚·ãƒ¥ãƒ´ã‚£ãƒ‹ãƒ¼', deity: 'ã‚¢ã‚·ãƒ¥ãƒ´ã‚£ãƒ³åŒç¥', traits: 'æ´»åŠ›ã¨ç™’ã—ã®åŠ›ã‚’æŒã¡ã¾ã™ã€‚æ–°ã—ã„å§‹ã¾ã‚Šã¸ã®æƒ…ç†±ã¨ã€äººã€…ã‚’åŠ©ã‘ã‚‹ãƒ’ãƒ¼ãƒªãƒ³ã‚°ã®æ‰èƒ½ãŒã‚ã‚Šã¾ã™ã€‚' },
    { name: 'ãƒãƒ©ãƒ‹ãƒ¼', deity: 'ãƒ¤ãƒç¥', traits: 'å¼·ã„æ„å¿—ã¨å¤‰å®¹ã®åŠ›ã‚’æŒã¡ã¾ã™ã€‚å‰µé€ ã¨ç ´å£Šã®ã‚µã‚¤ã‚¯ãƒ«ã‚’ç†è§£ã—ã€æ·±ã„çŸ¥æµã‚’è‚²ã¦ã¾ã™ã€‚' },
    { name: 'ã‚¯ãƒªãƒƒãƒ†ã‚£ã‚«ãƒ¼', deity: 'ã‚¢ã‚°ãƒ‹ç¥', traits: 'é‹­ã•ã¨ç²¾éŒ¬ã®åŠ›ã€‚æ‰¹åˆ¤çš„æ€è€ƒã¨å¤‰é©ã®ç‚ã§ã€ä¸ç´”ãªã‚‚ã®ã‚’ç„¼ãæ¸…ã‚ã‚‹åŠ›ãŒã‚ã‚Šã¾ã™ã€‚' },
    { name: 'ãƒ­ãƒ¼ãƒ’ãƒ‹ãƒ¼', deity: 'ãƒ–ãƒ©ãƒ•ãƒãƒ¼ç¥', traits: 'è±Šã‹ã•ã¨ç¾ã‚’å¼•ãå¯„ã›ã¾ã™ã€‚å‰µé€ æ€§ã¨æ„Ÿè¦šçš„ãªå–œã³ã€èŠ¸è¡“çš„æ‰èƒ½ãŒéš›ç«‹ã¡ã¾ã™ã€‚' },
    { name: 'ãƒ ãƒªã‚¬ã‚·ãƒ©ãƒ¼', deity: 'ã‚½ãƒ¼ãƒç¥', traits: 'å¥½å¥‡å¿ƒæ—ºç››ã§æ¢æ±‚å¿ƒãŒå¼·ã„ã€‚çœŸå®Ÿã¨ç¾ã‚’è¿½ã„æ±‚ã‚ã€çŸ¥è­˜ã®æ¢æ±‚ã«å–œã³ã‚’è¦‹å‡ºã—ã¾ã™ã€‚' },
    { name: 'ã‚¢ãƒ¼ã‚´ãƒ©ãƒ¼', deity: 'ãƒ«ãƒ‰ãƒ©ç¥', traits: 'å¤‰é©ã¨ç ´å£Šã‹ã‚‰å†ç”Ÿã‚’ç”Ÿã‚€åŠ›ã€‚åµã®å¾Œã®é™ã‘ã•ã®ã‚ˆã†ã«ã€è©¦ç·´ã‚’çµŒã¦å¼·ã•ã‚’å¢—ã—ã¾ã™ã€‚' },
    { name: 'ãƒ—ãƒŠãƒ«ãƒ´ã‚¡ã‚¹', deity: 'ã‚¢ãƒ‡ã‚£ãƒ†ã‚£ç¥', traits: 'å†ç”Ÿã¨è±Šã‹ã•ã®æ‰èƒ½ã€‚å›°é›£ã‹ã‚‰ç«‹ã¡ç›´ã‚‹å›å¾©åŠ›ã¨ã€å¸Œæœ›ã‚’ã‚‚ãŸã‚‰ã™å…‰ã®å­˜åœ¨ã€‚' },
  ];
  const idx = (parseInt(day) + parseInt(month) * 3 + parseInt(year)) % nakshatras.length;
  return nakshatras[idx];
}

// 5. ã‚±ãƒ«ãƒˆæ¨¹æœ¨å ã„ (Celtic Tree Astrology)
function getCelticTree(month, day) {
  const trees = [
    { name: 'ğŸŒ² æ¨ºã®æœ¨ (Birch)', period: '12/24ã€œ1/20', traits: 'æ–°ã—ã„å§‹ã¾ã‚Šã¨å¯èƒ½æ€§ã®è±¡å¾´ã€‚å‹‡æ°—ã¨å¿è€åŠ›ã§å›°é›£ã‚’ä¹—ã‚Šè¶Šãˆã€è¼ã‹ã—ã„æœªæ¥ã‚’ç¯‰ãã¾ã™ã€‚', lucky: 'ãƒ©ãƒƒã‚­ãƒ¼ã‚«ãƒ©ãƒ¼: ç™½ã€€å®ˆè­·å‹•ç‰©: ç™½é¹¿' },
    { name: 'ğŸŒ³ ãƒŠãƒŠã‚«ãƒãƒ‰ (Rowan)', period: '1/21ã€œ2/17', traits: 'ä¿è­·ã¨æ´å¯Ÿã®æœ¨ã€‚å¼·ã„ç²¾ç¥åŠ›ã¨ç›´æ„Ÿã§é‚ªæ‚ªãªã‚‚ã®ã‹ã‚‰å®ˆã‚‰ã‚Œã€çŸ¥æµã®åŠ›ãŒéš›ç«‹ã¡ã¾ã™ã€‚', lucky: 'ãƒ©ãƒƒã‚­ãƒ¼ã‚«ãƒ©ãƒ¼: èµ¤ã€€å®ˆè­·å‹•ç‰©: ãƒ¦ãƒ‹ã‚³ãƒ¼ãƒ³' },
    { name: 'ğŸŒ¿ ãƒˆãƒãƒªã‚³ (Ash)', period: '2/18ã€œ3/17', traits: 'ç¹‹ãŒã‚Šã¨å¤‰å®¹ã®æœ¨ã€‚å¤§ããªè¦–ç‚¹ã§ç‰©äº‹ã‚’è¦‹æ¸¡ã—ã€ä¸–ç•Œã¨æ·±ãç¹‹ãŒã‚‹å®‡å®™çš„ãªæ„Ÿè¦šãŒã‚ã‚Šã¾ã™ã€‚', lucky: 'ãƒ©ãƒƒã‚­ãƒ¼ã‚«ãƒ©ãƒ¼: ç·‘ã€€å®ˆè­·å‹•ç‰©: æµ·è›‡' },
    { name: 'ğŸŒ¸ ãƒãƒ³ãƒã‚­ (Alder)', period: '3/18ã€œ4/14', traits: 'è‡ªä¿¡ã¨æ±ºæ–­åŠ›ã®æœ¨ã€‚è¡Œå‹•ã¨ç²¾ç¥ã®ãƒãƒ©ãƒ³ã‚¹ã‚’ã¨ã‚ŠãªãŒã‚‰ã€ç›®æ¨™ã¸ã¾ã£ã™ãé€²ã‚€åŠ›ãŒã‚ã‚Šã¾ã™ã€‚', lucky: 'ãƒ©ãƒƒã‚­ãƒ¼ã‚«ãƒ©ãƒ¼: èµ¤ç´«ã€€å®ˆè­·å‹•ç‰©: ç‹' },
    { name: 'ğŸª¨ æŸ³ã®æœ¨ (Willow)', period: '4/15ã€œ5/12', traits: 'æœˆã¨ç›´æ„Ÿã®æœ¨ã€‚æ„Ÿæƒ…ã¨ç›´æ„Ÿã«å¾“ã„ã€æ½®ã®æµã‚Œã®ã‚ˆã†ã«æŸ”è»Ÿã«å¤‰åŒ–ã«é©å¿œã—ã¾ã™ã€‚', lucky: 'ãƒ©ãƒƒã‚­ãƒ¼ã‚«ãƒ©ãƒ¼: éŠ€ã€€å®ˆè­·å‹•ç‰©: ã‚¦ã‚µã‚®' },
    { name: 'ğŸŒ± ã‚µãƒ³ã‚¶ã‚· (Hawthorn)', period: '5/13ã€œ6/9', traits: 'è¦‹ãŸç›®ã¨æœ¬è³ªã®å¯¾æ¯”ã®æœ¨ã€‚å¤–è¦‹ã®ä¸‹ã«é©šãã¹ãè¤‡é›‘ã•ã‚’æŒã¡ã€å¤‰åŒ–ã®æ™‚ã«è¼ãã¾ã™ã€‚', lucky: 'ãƒ©ãƒƒã‚­ãƒ¼ã‚«ãƒ©ãƒ¼: ç´«ã€€å®ˆè­·å‹•ç‰©: å¤œé·¹' },
    { name: 'ğŸŒ³ ã‚ªãƒ¼ã‚¯ (Oak)', period: '6/10ã€œ7/7', traits: 'åŠ›ã¨å¿è€ã®å®ˆè­·è€…ã€‚å¤ã„çŸ¥æµã¨å¼·ã•ã§å‘¨å›²ã‚’å®ˆã‚Šã€æ™‚ã‚’è¶…ãˆãŸæºã‚‹ããªã„ä¿¡é ¼ã‚’æŒã¡ã¾ã™ã€‚', lucky: 'ãƒ©ãƒƒã‚­ãƒ¼ã‚«ãƒ©ãƒ¼: é‡‘ã€€å®ˆè­·å‹•ç‰©: é‡‘è‰²ã®é·²' },
    { name: 'ğŸƒ ãƒ’ã‚¤ãƒ©ã‚® (Holly)', period: '7/8ã€œ8/4', traits: 'ä¿è­·ã¨æŒ‘æˆ¦ã®æœ¨ã€‚å›°é›£ã«ç«‹ã¡å‘ã‹ã†å‹‡æ°—ã¨æ­¦å™¨ã®å·§ã¿ã•ã§ã€é€†å¢ƒã‚’ä¹—ã‚Šè¶Šãˆã¾ã™ã€‚', lucky: 'ãƒ©ãƒƒã‚­ãƒ¼ã‚«ãƒ©ãƒ¼: ç·‘ãƒ»èµ¤ã€€å®ˆè­·å‹•ç‰©: ä¸€è§’ç£' },
    { name: 'ğŸŒ° ãƒã‚·ãƒãƒŸ (Hazel)', period: '8/5ã€œ9/1', traits: 'çŸ¥æµã¨è©©ã®æœ¨ã€‚å‰µé€ çš„çŸ¥æ€§ã¨è¡¨ç¾åŠ›ã§ã€è¨€è‘‰ã¨æ•°å­—ã®é­”æ³•ã‚’è‡ªåœ¨ã«æ“ã‚Šã¾ã™ã€‚', lucky: 'ãƒ©ãƒƒã‚­ãƒ¼ã‚«ãƒ©ãƒ¼: èŒ¶ã€€å®ˆè­·å‹•ç‰©: ã‚µãƒ¼ãƒ¢ãƒ³' },
    { name: 'ğŸ‡ ãƒ–ãƒ‰ã‚¦ (Vine)', period: '9/2ã€œ9/29', traits: 'ç›¸åã™ã‚‹æ€§è³ªã®æœ¨ã€‚æ·±ã„æ„Ÿæƒ…ã¨é«˜ã„ç†æƒ³ã®é–“ã§è¼ãã€ä»–è€…ã¨ã¯é•ã†ç‹¬è‡ªã®è¦–ç‚¹ã‚’æŒã¡ã¾ã™ã€‚', lucky: 'ãƒ©ãƒƒã‚­ãƒ¼ã‚«ãƒ©ãƒ¼: ç™½ãƒ»ç·‘ã€€å®ˆè­·å‹•ç‰©: ç™½é³¥' },
    { name: 'ğŸ‚ ã‚¢ã‚¤ãƒ“ãƒ¼ (Ivy)', period: '9/30ã€œ10/27', traits: 'è©¦ç·´ã¨ç¹æ „ã®æœ¨ã€‚é€†å¢ƒã§ã“ãæˆé•·ã—ã€æ”¯ãˆåˆã„ã®ä¸­ã«è‡ªåˆ†ã®ç¾ã—ã•ã‚’è¦‹å‡ºã—ã¾ã™ã€‚', lucky: 'ãƒ©ãƒƒã‚­ãƒ¼ã‚«ãƒ©ãƒ¼: é»„ã€€å®ˆè­·å‹•ç‰©: ã‚¤ãƒã‚·ã‚·' },
    { name: 'ğŸ‹ è‘¦ (Reed)', period: '10/28ã€œ11/24', traits: 'ç‰©èªã¨æ¢æ±‚ã®æœ¨ã€‚ç§˜å¯†ã‚’ä¿ã¡ãªãŒã‚‰æ·±ãè€ƒãˆã€ç‰©äº‹ã®æ ¸å¿ƒã‚’è¦‹æ¥µã‚ã‚‹æ¢åµã®ã‚ˆã†ãªåŠ›ãŒã‚ã‚Šã¾ã™ã€‚', lucky: 'ãƒ©ãƒƒã‚­ãƒ¼ã‚«ãƒ©ãƒ¼: ã‚ªãƒ¬ãƒ³ã‚¸ã€€å®ˆè­·å‹•ç‰©: çŠ¬' },
    { name: 'ğŸŒ² é•·è€ã®æœ¨ (Elder)', period: '11/25ã€œ12/23', traits: 'å§‹ã¾ã‚Šã¨çµ‚ã‚ã‚Šã®æœ¨ã€‚æ·±ã„å¤‰å®¹ã¨å†ç”Ÿã®åŠ›ã‚’æŒã¡ã€ã‚µã‚¤ã‚¯ãƒ«ã®å®Œæˆã¨æ–°ãŸãªå§‹ã¾ã‚Šã‚’è±¡å¾´ã—ã¾ã™ã€‚', lucky: 'ãƒ©ãƒƒã‚­ãƒ¼ã‚«ãƒ©ãƒ¼: é»’ãƒ»ç™½ã€€å®ˆè­·å‹•ç‰©: é›å†¶è·äºº' },
  ];
  
  const m = parseInt(month), d = parseInt(day);
  const periods = [
    [12,24,1,20], [1,21,2,17], [2,18,3,17], [3,18,4,14], [4,15,5,12],
    [5,13,6,9], [6,10,7,7], [7,8,8,4], [8,5,9,1], [9,2,9,29],
    [9,30,10,27], [10,28,11,24], [11,25,12,23]
  ];
  for(let i = 0; i < periods.length; i++) {
    const [sm,sd,em,ed] = periods[i];
    if((m === sm && d >= sd && (m < em || (m === em && d <= ed))) ||
       (m > sm && m < em) ||
       (m === em && d <= ed && m > sm)) {
      return trees[i];
    }
    if(sm === 12 && ((m === 12 && d >= sd) || (m === 1 && d <= ed))) {
      return trees[i];
    }
  }
  return trees[0];
}

// 6. ã‚¨ã‚¸ãƒ—ãƒˆå æ˜Ÿè¡“ (Egyptian Astrology)
function getEgyptianSign(month, day) {
  const signs = [
    { god: 'ğŸŠ ã‚»ãƒ™ã‚¯', name: 'ãƒ¯ãƒ‹ã®ç¥', period: '1/25ã€œ2/18', traits: 'æ©Ÿè»¢ã¨é©å¿œåŠ›ã®é”äººã€‚ç´ æ—©ã„åˆ¤æ–­ã¨æ©Ÿæ•ãªè¡Œå‹•åŠ›ã§ã€ã‚ã‚‰ã‚†ã‚‹çŠ¶æ³ã‚’ä¹—ã‚Šè¶Šãˆã¾ã™ã€‚', lucky: 'ãƒ©ãƒƒã‚­ãƒ¼ã‚¹ãƒˆãƒ¼ãƒ³: ã‚¨ãƒ¡ãƒ©ãƒ«ãƒ‰' },
    { god: 'ğŸŒ€ ã‚¢ãƒ¡ãƒ³ãƒ»ãƒ©ãƒ¼', name: 'ç‹ã®ç¥', period: '1/8ã€œ1/21 / 2/1ã€œ2/11', traits: 'æ¥½è¦³ä¸»ç¾©ã¨ç©ã‚„ã‹ãªæ€§æ ¼ã€‚å›°é›£ã§ã‚‚å¸Œæœ›ã‚’è¦‹å¤±ã‚ãšã€äººã€…ã‚’å®‰å¿ƒã•ã›ã‚‹å­˜åœ¨æ„ŸãŒã‚ã‚Šã¾ã™ã€‚', lucky: 'ãƒ©ãƒƒã‚­ãƒ¼ã‚¹ãƒˆãƒ¼ãƒ³: ãƒãƒ©ã‚«ã‚¤ãƒˆ' },
    { god: 'ğŸº ã‚¢ãƒŒãƒ“ã‚¹', name: 'æ­»å¾Œã®å®ˆè­·è€…', period: '5/8ã€œ5/27 / 6/29ã€œ7/13', traits: 'æ·±ã„æ„Ÿå—æ€§ã¨å…±æ„ŸåŠ›ã‚’æŒã¡ã¾ã™ã€‚æš—é—‡ã®ä¸­ã§é“ã‚’ç…§ã‚‰ã—ã€é­‚ã‚’å®ˆã‚‹åŠ›ãŒã‚ã‚Šã¾ã™ã€‚', lucky: 'ãƒ©ãƒƒã‚­ãƒ¼ã‚¹ãƒˆãƒ¼ãƒ³: ãƒ©ãƒ”ã‚¹ãƒ©ã‚ºãƒª' },
    { god: 'âš”ï¸ ã‚»ãƒˆ', name: 'åµã®ç¥', period: '5/28ã€œ6/18 / 9/28ã€œ10/2', traits: 'åŠ›ã¨æ„å¿—ã®ã‚ã‚‹å¤‰é©è€…ã€‚æ··ä¹±ã®ä¸­ã§ã‚‚ä¸­å¿ƒã‚’ä¿ã¡ã€å¼·ã„æ„å¿—ã§é“ã‚’åˆ‡ã‚Šé–‹ãã¾ã™ã€‚', lucky: 'ãƒ©ãƒƒã‚­ãƒ¼ã‚¹ãƒˆãƒ¼ãƒ³: ãƒ–ãƒ©ãƒƒã‚¯ã‚ªãƒ‹ã‚­ã‚¹' },
    { god: 'ğŸŒŸ ãƒã‚¹ãƒˆ', name: 'çŒ«ã®å¥³ç¥', period: '7/14ã€œ7/28 / 12/26ã€œ1/31', traits: 'å„ªé›…ã•ã¨å¼·ã•ã‚’å…¼ã­å‚™ãˆã¾ã™ã€‚ç‹¬ç«‹å¿ƒã¨ä¿è­·æœ¬èƒ½ã‚’æŒã¡ã€èŠ¸è¡“ã¨å–œã³ã‚’æ„›ã™ã‚‹é­‚ã€‚', lucky: 'ãƒ©ãƒƒã‚­ãƒ¼ã‚¹ãƒˆãƒ¼ãƒ³: ã‚´ãƒ¼ãƒ«ãƒ‡ãƒ³ãƒˆãƒ‘ãƒ¼ã‚º' },
    { god: 'ğŸ‘ï¸ ãƒ©ãƒ¼', name: 'å¤ªé™½ç¥', period: '7/29ã€œ8/11 / 8/20ã€œ9/1', traits: 'å¤ªé™½ã®ã‚ˆã†ã«è¼ãå­˜åœ¨æ„Ÿã€‚æƒ…ç†±ã¨ç”Ÿå‘½åŠ›ã§å‘¨å›²ã‚’ç…§ã‚‰ã—ã€å‹åˆ©ã¨æˆåŠŸã‚’å¼•ãå¯„ã›ã¾ã™ã€‚', lucky: 'ãƒ©ãƒƒã‚­ãƒ¼ã‚¹ãƒˆãƒ¼ãƒ³: ãƒšãƒªãƒ‰ãƒƒãƒˆ' },
    { god: 'ğŸŒº ãƒ›ãƒ«ã‚¹', name: 'ç©ºã®ç¥', period: '4/20ã€œ5/7 / 8/12ã€œ8/19', traits: 'å‹‡æ°—ã¨æ­£ç¾©ã®å®ˆè­·è€…ã€‚é«˜ã„è¦–ç‚¹ã‹ã‚‰ç‰©äº‹ã‚’ä¿¯ç°ã—ã€å®ˆè­·ã¨å‹åˆ©ã®åŠ›ã‚’æŒã¡ã¾ã™ã€‚', lucky: 'ãƒ©ãƒƒã‚­ãƒ¼ã‚¹ãƒˆãƒ¼ãƒ³: ãƒ«ãƒ“ãƒ¼' },
  ];
  return signs[Math.abs(parseInt(month) * parseInt(day)) % signs.length];
}

// 7. ãƒãƒ¤æš¦ (Mayan Tzolkin)
function getMayanSign(year, month, day) {
  const dayNames = ['ã‚¤ãƒŸã‚·ãƒ¥', 'ã‚¤ã‚¯', 'ã‚¢ã‚¯ãƒãƒ«', 'ã‚«ãƒ³', 'ãƒã‚¯ãƒãƒ£ãƒ³', 'ã‚­ãƒŸ', 'ãƒãƒ‹ã‚¯', 'ãƒ©ãƒãƒˆ', 'ãƒ ãƒ«ã‚¯', 'ã‚ªã‚¯', 'ãƒãƒ¥ã‚¨ãƒ³', 'ã‚¨ãƒ–', 'ãƒ™ãƒ³', 'ãƒ’ã‚·ãƒ¥', 'ãƒ¡ãƒ³', 'ã‚­ãƒ–', 'ã‚«ãƒãƒ³', 'ã‚¨ã‚ºãƒŠãƒ–', 'ã‚«ã‚¦ã‚¢ã‚¯', 'ã‚¢ãƒ•ã‚¢ã‚¦'];
  const dayMeanings = {
    'ã‚¤ãƒŸã‚·ãƒ¥': 'ãƒ‰ãƒ©ã‚´ãƒ³ãƒ»å‰µé€ ã®å§‹ã¾ã‚Šã€‚å‰µé€ ã®åŠ›ã¨æ–°ã—ã„ã‚¨ãƒãƒ«ã‚®ãƒ¼ã€‚', 'ã‚¤ã‚¯': 'é¢¨ãƒ»éœŠã®å‘¼å¸ã€‚ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã¨ã‚¤ãƒ³ã‚¹ãƒ”ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã€‚',
    'ã‚¢ã‚¯ãƒãƒ«': 'å¤œãƒ»å¤¢ã®çŸ¥æµã€‚ç›´æ„Ÿã¨å†…ãªã‚‹çŸ¥è­˜ã€‚', 'ã‚«ãƒ³': 'ãƒˆã‚«ã‚²ãƒ»ç”Ÿå‘½ã®ç¨®ã€‚è±Šã‹ã•ã¨è‚¥æ²ƒãªå¯èƒ½æ€§ã€‚',
    'ãƒã‚¯ãƒãƒ£ãƒ³': 'ç¾½è›‡ãƒ»ç¥è–ãªåŠ›ã€‚éœŠçš„ãªçŸ¥æµã¨å¤‰å®¹ã€‚', 'ã‚­ãƒŸ': 'æ­»ãƒ»å¤‰å®¹ã€‚è»¢æ›æœŸã¨éœŠçš„å†ç”Ÿã€‚',
    'ãƒãƒ‹ã‚¯': 'é¹¿ãƒ»å„ªé›…ãªåŠ›ã€‚å¥‰ä»•ã¨é“å…·ã®æ‰±ã„ã€‚', 'ãƒ©ãƒãƒˆ': 'é‡‘æ˜Ÿãƒ»è±Šã‹ã•ã€‚èª¿å’Œã¨ç¹æ „ã€‚',
    'ãƒ ãƒ«ã‚¯': 'é›¨ãƒ»æ„Ÿæƒ…ã®æµã‚Œã€‚æµ„åŒ–ã¨ç™’ã—ã€‚', 'ã‚ªã‚¯': 'çŠ¬ãƒ»å¿ å®Ÿãªå¿ƒã€‚æ„›ã¨çŒ®èº«ã€‚',
    'ãƒãƒ¥ã‚¨ãƒ³': 'çŒ¿ãƒ»å‰µé€ ã¨éŠã³ã€‚èŠ¸è¡“ã¨æŠ€å·§ã€‚', 'ã‚¨ãƒ–': 'é“ãƒ»äººé¡ã®é“ã€‚è¬™è™šã•ã¨æ—…ã€‚',
    'ãƒ™ãƒ³': 'ãƒˆã‚¦ãƒ¢ãƒ­ã‚³ã‚·ãƒ»å¤©å›½ã®æŸ±ã€‚æˆé•·ã¨å¤©ã¸ã®åˆ°é”ã€‚', 'ãƒ’ã‚·ãƒ¥': 'ã‚¸ãƒ£ã‚¬ãƒ¼ãƒ»é­”è¡“ã€‚ã‚·ãƒ£ãƒ¼ãƒãƒ³ã®åŠ›ã€‚',
    'ãƒ¡ãƒ³': 'é·¹ãƒ»é«˜ã„é£›ç¿”ã€‚ãƒ“ã‚¸ãƒ§ãƒ³ã¨ç‹¬ç«‹ã€‚', 'ã‚­ãƒ–': 'èœ‚èœ¡ãƒ»é­‚ã®å†ç”Ÿã€‚ã‚«ãƒ«ãƒã¨å…‰ã€‚',
    'ã‚«ãƒãƒ³': 'åœ°çƒãƒ»ã‚·ãƒ³ã‚¯ãƒ­ãƒ‹ã‚·ãƒ†ã‚£ã€‚çŸ¥æ€§ã¨å‹•ãã€‚', 'ã‚¨ã‚ºãƒŠãƒ–': 'ç«æ‰“çŸ³ãƒ»åæ˜ ã€‚æ­£ç¾©ã¨ä¿®ç·´ã€‚',
    'ã‚«ã‚¦ã‚¢ã‚¯': 'åµãƒ»å¤‰é©ã®åŠ›ã€‚ã‚¨ãƒãƒ«ã‚®ãƒ¼ã¨å”åŠ›ã€‚', 'ã‚¢ãƒ•ã‚¢ã‚¦': 'å¤ªé™½ãƒ»ç‹ãƒ»å®Œæˆã€‚æ‚Ÿã‚Šã¨å…¨ä½“æ€§ã€‚'
  };
  
  // Simplified calculation
  const jdn = Math.floor(365.25 * (parseInt(year) + 4716)) + Math.floor(30.6001 * (parseInt(month) + 1)) + parseInt(day) - 1524;
  const tzolkinDay = ((jdn % 20) + 20) % 20;
  const trecena = ((jdn % 13) + 13) % 13 + 1;
  const name = dayNames[tzolkinDay];
  return { 
    name: `${trecena} ${name}`, 
    meaning: dayMeanings[name] || 'ç¥è–ãªåŠ›ã¨å®‡å®™ã®ãƒªã‚ºãƒ ã€‚'
  };
}

// Generate summary
function generateSummary(western, chinese, numerology) {
  const summaries = [
    `ã‚ãªãŸã®é­‚ã¯ã€${western.element}ã®å…ƒç´ ã«å°ã‹ã‚Œã€${western.planet}ã®åŠ è­·ã®ã‚‚ã¨ã«è¼ã„ã¦ã„ã¾ã™ã€‚${chinese.name.split(' ')[1]}ã®å¹´ã«ç”Ÿã¾ã‚ŒãŸã“ã¨ã§ã€ãã®å‹•ç‰©ã®åŠ›å¼·ã•ãŒã‚ãªãŸã®äººç”Ÿã«æµã‚Œã¦ã„ã¾ã™ã€‚ãƒ©ã‚¤ãƒ•ãƒ‘ã‚¹ãƒŠãƒ³ãƒãƒ¼${numerology.number}ã¯ã€ã‚ãªãŸã®ä½¿å‘½ã¨å†…ãªã‚‹å‘¼ã³å£°ã‚’ç¤ºã—ã¦ã„ã¾ã™ã€‚`,
    `${western.name.replace('â™‘','').replace('â™’','').replace('â™“','').replace('â™ˆ','').replace('â™‰','').replace('â™Š','').replace('â™‹','').replace('â™Œ','').replace('â™','').replace('â™','').replace('â™','').replace('â™','').trim()}ã¨ã—ã¦ã®æ€§è³ªã¨ã€ãƒ©ã‚¤ãƒ•ãƒ‘ã‚¹ãƒŠãƒ³ãƒãƒ¼${numerology.number}ã®æŒ¯å‹•ãŒèª¿å’Œã—ã€ç‹¬è‡ªã®å…‰ã‚’æ”¾ã£ã¦ã„ã¾ã™ã€‚ã“ã®ä¸–ç•Œã®ã‚ã‚‰ã‚†ã‚‹å è¡“ãŒã‚ãªãŸã®ç‰¹åˆ¥ãªå­˜åœ¨ã‚’ç¢ºèªã—ã¦ã„ã¾ã™ã€‚`,
  ];
  return summaries[numerology.number % 2];
}

// ==================== MAIN CALCULATE ====================
function calculate() {
  const year = yearSel.value, month = monthSel.value, day = daySel.value;
  if(!year || !month || !day) {
    alert('ç”Ÿå¹´æœˆæ—¥ã‚’å…¨ã¦å…¥åŠ›ã—ã¦ãã ã•ã„ âœ¨');
    return;
  }
  
  const western = getWesternSign(month, day);
  const chinese = getChineseZodiac(year);
  const numerology = getNumerology(year, month, day);
  const celtic = getCelticTree(month, day);
  const nakshatra = getVedicNakshatra(year, month, day);
  const egyptian = getEgyptianSign(month, day);
  const mayan = getMayanSign(year, month, day);
  
  document.getElementById('birthday-display').textContent = `${year}å¹´${month}æœˆ${day}æ—¥`;
  
  const cards = [
    {
      color: '#c9728a',
      region: 'è¥¿æ´‹å æ˜Ÿè¡“',
      system: 'Zodiac',
      icon: 'âœ¦',
      result: western.name,
      desc: western.traits,
      lucky: western.lucky,
    },
    {
      color: '#c9a96e',
      region: 'ä¸­å›½ Â· å¹²æ”¯',
      system: 'Chinese Zodiac',
      icon: 'â˜¯',
      result: chinese.name,
      desc: chinese.traits,
      lucky: chinese.lucky,
    },
    {
      color: '#9b7ab5',
      region: 'æ•°ç§˜è¡“',
      system: 'Numerology',
      icon: 'âœ§',
      result: numerology.title,
      desc: numerology.traits,
      lucky: numerology.lucky,
    },
    {
      color: '#5b9e7a',
      region: 'ã‚±ãƒ«ãƒˆ',
      system: 'Celtic Tree',
      icon: 'ğŸŒ¿',
      result: celtic.name,
      desc: celtic.traits,
      lucky: celtic.lucky,
    },
    {
      color: '#d4845c',
      region: 'ã‚¤ãƒ³ãƒ‰ Â· ãƒ´ã‚§ãƒ¼ãƒ€',
      system: 'Vedic Nakshatra',
      icon: 'â˜€',
      result: `ãƒŠã‚¯ã‚·ãƒ£ãƒˆãƒ©: ${nakshatra.name}`,
      desc: `å®ˆè­·ç¥: ${nakshatra.deity}ã€‚${nakshatra.traits}`,
      lucky: 'ãƒ´ã‚§ãƒ¼ãƒ€å æ˜Ÿè¡“ã®æœˆã®å®®',
    },
    {
      color: '#7ba8c9',
      region: 'ã‚¨ã‚¸ãƒ—ãƒˆ',
      system: 'Egyptian Astrology',
      icon: 'ğ“‚€',
      result: `${egyptian.god} â€” ${egyptian.name}`,
      desc: egyptian.traits,
      lucky: egyptian.lucky,
    },
    {
      color: '#c97ab5',
      region: 'ãƒãƒ¤æš¦',
      system: 'Mayan Tzolkin',
      icon: 'ğŸŒ€',
      result: `ãƒ„ã‚©ãƒ«ã‚­ãƒ³: ${mayan.name}`,
      desc: mayan.meaning,
      lucky: 'ãƒãƒ¤ã®ç¥è–æš¦ã‚ˆã‚Š',
    },
  ];
  
  const grid = document.getElementById('fortune-grid');
  grid.innerHTML = cards.map((c, i) => `
    <div class="fortune-card" style="--card-color: ${c.color}; animation: fadeUp 0.6s ease ${i * 0.1}s both;">
      <span class="card-icon">${c.icon}</span>
      <div class="card-region">${c.region}</div>
      <div class="card-system">${c.system}</div>
      <div class="card-result">${c.result}</div>
      <div class="card-desc">${c.desc}</div>
      <div class="card-lucky">âœ¦ ${c.lucky}</div>
    </div>
  `).join('');
  
  const summary = generateSummary(western, chinese, numerology);
  document.getElementById('summary-card').innerHTML = `
    <div style="color:var(--gold);font-size:0.75rem;letter-spacing:0.4em;margin-bottom:20px;">âœ¦ &nbsp;COSMIC READING&nbsp; âœ¦</div>
    <h3>ã‚ãªãŸã®å®‡å®™çš„ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«</h3>
    <div class="fortune-stars">âœ¦ âœ¦ âœ¦ âœ¦ âœ¦</div>
    <p>${summary}</p>
    <p style="margin-top:16px;font-size:0.9rem;opacity:0.7;">
      7ã¤ã®å è¡“ã‚·ã‚¹ãƒ†ãƒ ãŒã‚ãªãŸã®é­‚ã®è¨­è¨ˆå›³ã‚’æãå‡ºã—ã¾ã—ãŸã€‚<br>
      æ˜Ÿã€…ã¯ã‚ãªãŸã®ãŸã‚ã«ç‰¹åˆ¥ãªãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ç¹”ã‚Šæˆã—ã¦ã„ã¾ã™ã€‚
    </p>
  `;
  
  const results = document.getElementById('results');
  results.classList.add('show');
  results.scrollIntoView({ behavior: 'smooth', block: 'start' });
}
</script>
</body>
</html>
